# Default card cleaning rules
name: "default"
description: "Generic SillyTavern card text cleaning rules"
version: "1.0"
enabled: true

options:
  ignore_case: false
  multiline: false
  max_length: 0

rules:
  - name: "strip color hex"
    pattern: '\?#[0-9a-fA-F]{6}'
    replacement: ""
    enabled: true
    description: "Remove #RRGGBB color tokens"

  - name: "remove quoted dialogue pairs"
    pattern: '"[^"]+"\.\s*"[^"]+"\.?'
    replacement: ""
    enabled: true
    description: "Remove repeated quoted dialogue pairs"

  - name: "remove affection"
    pattern: '"好感度".*?。'
    replacement: ""
    enabled: true
    description: "Remove affection related sentence"

  - name: "remove coords"
    pattern: '\[-?\d+,\s*\d+\].*?。'
    replacement: ""
    enabled: true
    description: "Remove coordinate markers and trailing sentence"

post_process:
  - action: "replace"
    pattern: '""'
    replacement: ""
    description: "Remove empty double quotes"

  - action: "strip"
    description: "Trim leading and trailing whitespace"
